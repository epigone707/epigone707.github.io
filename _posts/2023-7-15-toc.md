---
layout: post
title: "Automated Table of Contents for Jekyll with Highlighting"
description: ""
category: tech
tags: web
modify: 2023-7-15 18:09:00
---

# Intro

This is a tutorial on how to add a table of contents to your Jekyll website. The table of contents will be automatically generated based on the headings in your markdown file. It will also highlight the current section you are reading.

# Final Result

This is what the table of contents looks like after you complete this tutorial.

![image](/assets/image/toc.png)

# Libraries Used

- [jekyll-table-of-contents](https://github.com/ghiculescu/jekyll-table-of-contents)
- Bootstrap's [scrollspy](https://getbootstrap.com/docs/4.0/components/scrollspy/#methods)

# Tutorial

## Step 1

Download [jekyll-table-of-contents](https://github.com/ghiculescu/jekyll-table-of-contents) as `toc.js` in your `js` folder.

## Step 2

Add the following to your `head.html` file

```html
<!-- jquery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>

<!-- bootstrap -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<!-- toc -->
<script src="/js/toc.js"></script>
```

## Step 3

Add `<div id="toc"></div>` and corresponding js function to your html file.

For my website, I added it to `default.html` like this:

```html
<div class="page-content">
  <div class="invisible-box"></div>
  <div class="wrapper">{{ content }}</div>
  <div id="toc-wrapper">
    <div id="toc"></div>
  </div>
</div>

<script type="text/javascript">
  $(document).ready(function () {
    $("#toc").toc({ listType: "ul" });
  });
</script>
```

## Step 4

Set up Bootstrap's [scrollspy](https://getbootstrap.com/docs/4.0/components/scrollspy/#methods) by modifing your body tag like this:

```html
<body data-spy="scroll" data-target="#toc" data-offset="75"></body>
```

## Step 5

Add css code for the table of contents siebar

This depends on the layout of your website. For my website, I added the following:

- [\_layout.scss](https://github.com/epigone707/epigone707.github.io/blob/master/_sass/_layout.scss)
- [\_toc.scss](https://github.com/epigone707/epigone707.github.io/blob/master/_sass/_toc.scss)
